import{c as n,d as s,e as r,_ as i}from"./index-TjWIZcj0.js";function l(){const t=n();return s({mutationFn:e=>r(e),onMutate:()=>{},onSuccess:e=>window.location.href=`/${e.slug}`,onError:e=>{e.message==="Expire Token: Unauthorized"&&(i.error("Your Session is Expired. You will be redirected to login page"),setTimeout(()=>{window.location.href="/login"},2500))},onSettled:async(e,o)=>{if(o)return void console.log({onSettled_ERROR:o});await t.invalidateQueries({queryKey:["posts"]})}})}function d(){const t=n();return s({mutationFn:e=>r(e),onError:e=>{e.message==="Expire Token: Unauthorized"&&(i.error("Your Session is Expired. You will be redirected to login page"),setTimeout(()=>{window.location.href="/login"},2500))},onSettled:async(e,o,a)=>{if(o)return void console.log({onSettled_ERROR:o});await t.invalidateQueries({queryKey:["posts"]}),await t.invalidateQueries({queryKey:["post",{id:a.newData.postId}]})}})}const c=()=>{const t=n();return s({mutationFn:async e=>await r(e),onSuccess:()=>{i.success("Post Deleted"),setTimeout(()=>{window.location.href="/#blog"},1e3)},onError:e=>{e.message==="Expire Token: Unauthorized"&&(i.error("Your Session is Expired. You will be redirected to login page"),setTimeout(()=>{window.location.href="/login"},2500))},onSettled:async(e,o)=>{if(o)return void console.log({onSettled_ERROR:o});await t.invalidateQueries({queryKey:["posts"]})}})};export{l as a,d as b,c as u};
